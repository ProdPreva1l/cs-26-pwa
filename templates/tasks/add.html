{% extends "tasks/layout.html" %}
{% load static %}
{% block content %}
<h1>Add Task</h1>
<form action="{% url 'tasks:add' %}" method="post" id="taskForm">
    {% csrf_token %}
    <table>
        <tr>
            <td><label for="task">Task Title:</label></td>
            <td>{{ form.task }}</td>
        </tr>
        <tr>
            <td><label for="description">Description:</label></td>
            <td>
                <textarea name="description" id="description" rows="3" cols="40" placeholder="Task description (optional)"></textarea>
            </td>
        </tr>
        <tr>
            <td><label for="priority">Priority:</label></td>
            <td>
                <select name="priority" id="priority">
                    <option value="0">Low</option>
                    <option value="1" selected>Medium</option>
                    <option value="2">High</option>
                    <option value="3">Urgent</option>
                </select>
            </td>
        </tr>
        <tr>
            <td><label for="status">Status:</label></td>
            <td>
                <select name="status" id="status">
                    <option value="0" selected>To Do</option>
                    <option value="1">In Progress</option>
                    <option value="2">In Review</option>
                    <option value="3">Complete</option>
                </select>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <input type="submit" id="submit" value="Add Task" disabled>
            </td>
        </tr>
    </table>
</form>
<a href="{% url 'tasks:index' %}">View Tasks</a>
<script>
document.addEventListener('DOMContentLoaded', () => {
   document.querySelector("#task").onkeyup = () => {
       document.querySelector("#submit").disabled = document.querySelector("#task").value.length <= 0;
   }
});
</script>
{% endblock %}
{% block scripts %}{% endblock %}